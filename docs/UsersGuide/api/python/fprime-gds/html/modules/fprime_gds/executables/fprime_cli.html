

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>fprime_gds.executables.fprime_cli &mdash; fprime-gds 1.4.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../../static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../../static/css/rtd_width.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../static/documentation_options.js"></script>
        <script src="../../../static/jquery.js"></script>
        <script src="../../../static/underscore.js"></script>
        <script src="../../../static/doctools.js"></script>
        <script src="../../../static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home" alt="Documentation Home"> fprime-gds
          

          
          </a>

          
            
            
              <div class="version">
                1.4.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../api/index.html">API</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">fprime-gds</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../index.html">Module code</a> &raquo;</li>
        
          <li><a href="../../fprime_gds.html">fprime_gds</a> &raquo;</li>
        
      <li>fprime_gds.executables.fprime_cli</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for fprime_gds.executables.fprime_cli</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="c1"># PYTHON_ARGCOMPLETE_OK</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Parses the given CLI command for the F&#39; GDS, and then executes the correct</span>
<span class="sd">command with the user-provided arguments on the GDS</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">abc</span>
<span class="kn">import</span> <span class="nn">argparse</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">List</span>

<span class="kn">import</span> <span class="nn">argcomplete</span>

<span class="c1"># NOTE: These modules are now only lazily loaded below as needed, due to slow</span>
<span class="c1"># performance when importing them</span>
<span class="c1"># import fprime_gds.common.gds_cli.channels as channels</span>
<span class="c1"># import fprime_gds.common.gds_cli.command_send as command_send</span>
<span class="c1"># import fprime_gds.common.gds_cli.events as events</span>
<span class="c1"># from fprime_gds.common.pipeline.dictionaries import Dictionaries</span>
<span class="kn">from</span> <span class="nn">fprime_gds.executables.cli</span> <span class="kn">import</span> <span class="n">GdsParser</span>


<div class="viewcode-block" id="add_connection_arguments"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.add_connection_arguments">[docs]</a><span class="k">def</span> <span class="nf">add_connection_arguments</span><span class="p">(</span><span class="n">parser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds the arguments needed to properly connect to the API, which the user may</span>
<span class="sd">    want to specify</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-d&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--dictionary&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;path from the current working directory to the &quot;&lt;project name&gt;Dictionary.xml&quot; file for the project you</span><span class="se">\&#39;</span><span class="s1">re using the API with; if unused, tries to search the current working directory for such a file&#39;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-ip&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--ip-address&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;connect to the GDS server using the given IP or hostname (default=127.0.0.1 (i.e. localhost))&quot;</span><span class="p">,</span>
        <span class="n">metavar</span><span class="o">=</span><span class="s2">&quot;IP&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-p&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--port&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="mi">50050</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;connect to the GDS server using the given port number (default=50050)&quot;</span><span class="p">,</span>
        <span class="n">metavar</span><span class="o">=</span><span class="s2">&quot;PORT&quot;</span><span class="p">,</span></div>
    <span class="p">)</span>


<div class="viewcode-block" id="add_retrieval_arguments"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.add_retrieval_arguments">[docs]</a><span class="k">def</span> <span class="nf">add_retrieval_arguments</span><span class="p">(</span><span class="n">parser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds all the arguments that affect how a commands retrieves a message generated by the GDS or F&#39; instance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-t&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--timeout&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;wait at most SECONDS seconds for a single new message, then exit (defaults to listening until the user exits via CTRL+C, and logging all messages)&quot;</span><span class="p">,</span>
        <span class="n">metavar</span><span class="o">=</span><span class="s2">&quot;SECONDS&quot;</span><span class="p">,</span></div>
    <span class="p">)</span>


<div class="viewcode-block" id="add_search_arguments"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.add_search_arguments">[docs]</a><span class="k">def</span> <span class="nf">add_search_arguments</span><span class="p">(</span><span class="n">parser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">,</span> <span class="n">command_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds all the arguments relevant to searching/filtering certain messages</span>
<span class="sd">    used by the Channels/Commands/Events commands with the given name used in</span>
<span class="sd">    the help text, due to the similarity of each of these commands</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-l&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--list&quot;</span><span class="p">,</span>
        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;is_printing_list&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;list all possible </span><span class="si">%s</span><span class="s2"> types the current F Prime instance could produce, based on the </span><span class="si">%s</span><span class="s2"> dictionary, sorted by </span><span class="si">%s</span><span class="s2"> type ID&quot;</span>
        <span class="o">%</span> <span class="p">(</span><span class="n">command_name</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">command_name</span><span class="p">,</span> <span class="n">command_name</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]),</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--ids&quot;</span><span class="p">,</span>
        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;+&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;only show </span><span class="si">%s</span><span class="s1"> matching the given type ID(s) &quot;ID&quot;; can provide multiple IDs to show all given types&#39;</span>
        <span class="o">%</span> <span class="p">(</span><span class="n">command_name</span><span class="p">),</span>
        <span class="n">metavar</span><span class="o">=</span><span class="s2">&quot;ID&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-c&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--components&quot;</span><span class="p">,</span>
        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;+&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;only show </span><span class="si">%s</span><span class="s1"> from the given component name &quot;COMP&quot;; can provide multiple components to show </span><span class="si">%s</span><span class="s1"> from all components given&#39;</span>
        <span class="o">%</span> <span class="p">(</span><span class="n">command_name</span><span class="p">,</span> <span class="n">command_name</span><span class="p">),</span>
        <span class="n">metavar</span><span class="o">=</span><span class="s2">&quot;COMP&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-s&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--search&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;only show </span><span class="si">%s</span><span class="s1"> whose name or output string exactly matches or contains the entire given string &quot;STRING&quot;&#39;</span>
        <span class="o">%</span> <span class="p">(</span><span class="n">command_name</span><span class="p">),</span>
        <span class="n">metavar</span><span class="o">=</span><span class="s2">&quot;STRING&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-j&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--json&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;return the JSON response of the API call, with </span><span class="si">%s</span><span class="s2"> filtered based on other flags provided&quot;</span>
        <span class="o">%</span> <span class="p">(</span><span class="n">command_name</span><span class="p">),</span></div>
    <span class="p">)</span>


<div class="viewcode-block" id="get_dictionary_path"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.get_dictionary_path">[docs]</a><span class="k">def</span> <span class="nf">get_dictionary_path</span><span class="p">(</span><span class="n">current_args</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">Namespace</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the current project dictionary, either one provided by the user</span>
<span class="sd">    or the first one found in the current working directory. Raises an</span>
<span class="sd">    exception if neither one is found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">current_args</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="s2">&quot;dictionary&quot;</span><span class="p">):</span>
        <span class="n">args</span><span class="o">.</span><span class="n">dictionary</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">args</span><span class="o">.</span><span class="n">deploy</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
    <span class="n">args</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">GdsParser</span><span class="o">.</span><span class="n">handle_arguments</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{})</span>
    <span class="k">return</span> <span class="n">args</span><span class="o">.</span><span class="n">dictionary</span></div>


<div class="viewcode-block" id="add_valid_dictionary"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.add_valid_dictionary">[docs]</a><span class="k">def</span> <span class="nf">add_valid_dictionary</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">Namespace</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">argparse</span><span class="o">.</span><span class="n">Namespace</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Takes in the given parsed arguments and, if no F&#39; dictionary has been given,</span>
<span class="sd">    attempt to search for one in the current working directory. Throw an error</span>
<span class="sd">    if none can be found OR if the given dictionary is invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">args</span><span class="o">.</span><span class="n">dictionary</span> <span class="o">=</span> <span class="n">get_dictionary_path</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">args</span></div>


<div class="viewcode-block" id="CliCommandParserBase"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.CliCommandParserBase">[docs]</a><span class="k">class</span> <span class="nc">CliCommandParserBase</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">ABC</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An abstract class for CLI commands to implement; provides methods for</span>
<span class="sd">    adding a new parser for this command</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="CliCommandParserBase.add_subparser"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.CliCommandParserBase.add_subparser">[docs]</a>    <span class="k">def</span> <span class="nf">add_subparser</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent_parser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds this command as a sub-command to an existing parser, so that it</span>
<span class="sd">        can be passed in as an argument (similar to git&#39;s CLI tool)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command_parser</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create_subparser</span><span class="p">(</span><span class="n">parent_parser</span><span class="p">)</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">add_arguments</span><span class="p">(</span><span class="n">command_parser</span><span class="p">)</span>
        <span class="n">command_parser</span><span class="o">.</span><span class="n">set_defaults</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">command_func</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">validate_args</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<div class="viewcode-block" id="CliCommandParserBase.create_subparser"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.CliCommandParserBase.create_subparser">[docs]</a>    <span class="k">def</span> <span class="nf">create_subparser</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">parent_parser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">:</span></div>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parser for this command as a subparser of the given one,</span>
<span class="sd">        and then returns it</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<div class="viewcode-block" id="CliCommandParserBase.add_arguments"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.CliCommandParserBase.add_arguments">[docs]</a>    <span class="k">def</span> <span class="nf">add_arguments</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">):</span></div>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add all the required and optional arguments for this command to the</span>
<span class="sd">        given parser</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="CliCommandParserBase.validate_args"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.CliCommandParserBase.validate_args">[docs]</a>    <span class="k">def</span> <span class="nf">validate_args</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validates the parsed arguments for this parser; if any are incorrect or</span>
<span class="sd">        missing, try to set them automatically if possible and error if this is</span>
<span class="sd">        not possible</span>

<span class="sd">        By default, tries to set the project dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">args</span> <span class="o">=</span> <span class="n">add_valid_dictionary</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No valid project dictionary found&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">args</span></div>

    <span class="nd">@classmethod</span>
    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<div class="viewcode-block" id="CliCommandParserBase.command_func"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.CliCommandParserBase.command_func">[docs]</a>    <span class="k">def</span> <span class="nf">command_func</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span></div></div>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Executes the appropriate function when this command is called</span>
<span class="sd">        &quot;&quot;&quot;</span>


<div class="viewcode-block" id="ChannelsParser"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.ChannelsParser">[docs]</a><span class="k">class</span> <span class="nc">ChannelsParser</span><span class="p">(</span><span class="n">CliCommandParserBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A parser for the &quot;channels&quot; CLI command, which lets users retrieve</span>
<span class="sd">    information about recent telemetry data from an F&#39; instance</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="ChannelsParser.create_subparser"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.ChannelsParser.create_subparser">[docs]</a>    <span class="k">def</span> <span class="nf">create_subparser</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent_parser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the channels sub-command as a subparser, and then returns it</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">channels_parser</span> <span class="o">=</span> <span class="n">parent_parser</span><span class="o">.</span><span class="n">add_parser</span><span class="p">(</span>
            <span class="s2">&quot;channels&quot;</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;print out new telemetry data that has been received from the F Prime instance, sorted by timestamp&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">channels_parser</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="ChannelsParser.add_arguments"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.ChannelsParser.add_arguments">[docs]</a>    <span class="k">def</span> <span class="nf">add_arguments</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add all the required and optional arguments for this command to the</span>
<span class="sd">        given parser</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">add_connection_arguments</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span>
        <span class="n">add_retrieval_arguments</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span>
        <span class="n">add_search_arguments</span><span class="p">(</span><span class="n">parser</span><span class="p">,</span> <span class="s2">&quot;channels&quot;</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="ChannelsParser.command_func"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.ChannelsParser.command_func">[docs]</a>    <span class="k">def</span> <span class="nf">command_func</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Executes the appropriate function when &quot;channels&quot; is called</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">fprime_gds.common.gds_cli.channels</span> <span class="k">as</span> <span class="nn">channels</span>

        <span class="n">channels</span><span class="o">.</span><span class="n">ChannelsCommand</span><span class="o">.</span><span class="n">handle_arguments</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="CommandSendParser"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.CommandSendParser">[docs]</a><span class="k">class</span> <span class="nc">CommandSendParser</span><span class="p">(</span><span class="n">CliCommandParserBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A parser for the &quot;command-send&quot; CLI command, which lets users send commands</span>
<span class="sd">    from the GDS to a running F&#39; instance and lets retrieve information about</span>
<span class="sd">    what commands are available</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="CommandSendParser.create_subparser"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.CommandSendParser.create_subparser">[docs]</a>    <span class="k">def</span> <span class="nf">create_subparser</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent_parser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the command-send sub-command as a subparser, and then returns it</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command_send_parser</span> <span class="o">=</span> <span class="n">parent_parser</span><span class="o">.</span><span class="n">add_parser</span><span class="p">(</span>
            <span class="s2">&quot;command-send&quot;</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;sends the given command to the spacecraft via the GDS&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">command_send_parser</span></div>

    <span class="nd">@staticmethod</span>
<div class="viewcode-block" id="CommandSendParser.complete_command_name"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.CommandSendParser.complete_command_name">[docs]</a>    <span class="k">def</span> <span class="nf">complete_command_name</span><span class="p">(</span>
        <span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">parsed_args</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">Namespace</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a list of all command names that could possibly complete the</span>
<span class="sd">        given prefix</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Kwargs arguments required for argcomplete, so suppress warning</span>
        <span class="c1"># pylint: disable=unused-argument</span>
        <span class="n">dict_path</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">dict_path</span> <span class="o">=</span> <span class="n">get_dictionary_path</span><span class="p">(</span><span class="n">parsed_args</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">argcomplete</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;No dictionary found to get command names from&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[]</span>

        <span class="kn">from</span> <span class="nn">fprime_gds.common.pipeline.dictionaries</span> <span class="kn">import</span> <span class="n">Dictionaries</span>

        <span class="n">dictionary</span> <span class="o">=</span> <span class="n">Dictionaries</span><span class="p">()</span>
        <span class="n">dictionary</span><span class="o">.</span><span class="n">load_dictionaries</span><span class="p">(</span><span class="n">dict_path</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">command_names</span> <span class="o">=</span> <span class="n">dictionary</span><span class="o">.</span><span class="n">command_name</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">name</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">command_names</span> <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">)]</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="CommandSendParser.add_arguments"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.CommandSendParser.add_arguments">[docs]</a>    <span class="k">def</span> <span class="nf">add_arguments</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add all the required and optional arguments for this command to the</span>
<span class="sd">        given parser</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">add_connection_arguments</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s2">&quot;command_name&quot;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s1">&#39;the full name of the command you want to execute in &quot;&lt;component&gt;.&lt;name&gt;&quot; form&#39;</span><span class="p">,</span>
            <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
            <span class="n">metavar</span><span class="o">=</span><span class="s2">&quot;command-name&quot;</span><span class="p">,</span>
        <span class="p">)</span><span class="o">.</span><span class="n">completer</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">complete_command_name</span>
        <span class="c1"># NOTE: Type set to string because we don&#39;t know the type beforehand</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s2">&quot;-args&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--arguments&quot;</span><span class="p">,</span>
            <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="p">[],</span>
            <span class="n">help</span><span class="o">=</span><span class="s2">&quot;provide a space-separated set of arguments to the command being sent&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">add_search_arguments</span><span class="p">(</span><span class="n">parser</span><span class="p">,</span> <span class="s2">&quot;commands&quot;</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="CommandSendParser.validate_args"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.CommandSendParser.validate_args">[docs]</a>    <span class="k">def</span> <span class="nf">validate_args</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">Namespace</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validates the parsed arguments for command_send; if any are incorrect or</span>
<span class="sd">        missing, try to set them automatically if possible and error if this is</span>
<span class="sd">        not possible</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">command_name</span> <span class="ow">or</span> <span class="n">args</span><span class="o">.</span><span class="n">is_printing_list</span><span class="p">):</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;One of command-name or -l/--list is required&quot;</span><span class="p">)</span>

        <span class="n">args</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">validate_args</span><span class="p">(</span><span class="n">parser</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">args</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="CommandSendParser.command_func"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.CommandSendParser.command_func">[docs]</a>    <span class="k">def</span> <span class="nf">command_func</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Executes the appropriate function when &quot;command_send&quot; is called</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">fprime_gds.common.gds_cli.command_send</span> <span class="k">as</span> <span class="nn">command_send</span>

        <span class="n">command_send</span><span class="o">.</span><span class="n">CommandSendCommand</span><span class="o">.</span><span class="n">handle_arguments</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="EventsParser"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.EventsParser">[docs]</a><span class="k">class</span> <span class="nc">EventsParser</span><span class="p">(</span><span class="n">CliCommandParserBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A parser for the &quot;events&quot; CLI command, which lets users retrieve</span>
<span class="sd">    information about recent events logged on an F&#39; instance</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="EventsParser.create_subparser"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.EventsParser.create_subparser">[docs]</a>    <span class="k">def</span> <span class="nf">create_subparser</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent_parser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the events sub-command as a subparser, and then returns it</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">events_parser</span> <span class="o">=</span> <span class="n">parent_parser</span><span class="o">.</span><span class="n">add_parser</span><span class="p">(</span>
            <span class="s2">&quot;events&quot;</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;print out new events that have occurred on the F Prime instance, sorted by timestamp&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">events_parser</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="EventsParser.add_arguments"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.EventsParser.add_arguments">[docs]</a>    <span class="k">def</span> <span class="nf">add_arguments</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add all the required and optional arguments for this command to the</span>
<span class="sd">        given parser</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">add_connection_arguments</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span>
        <span class="n">add_retrieval_arguments</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span>
        <span class="n">add_search_arguments</span><span class="p">(</span><span class="n">parser</span><span class="p">,</span> <span class="s2">&quot;events&quot;</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="EventsParser.command_func"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.EventsParser.command_func">[docs]</a>    <span class="k">def</span> <span class="nf">command_func</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Executes the appropriate function when &quot;events_parser&quot; is called</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">fprime_gds.common.gds_cli.events</span> <span class="k">as</span> <span class="nn">events</span>

        <span class="n">events</span><span class="o">.</span><span class="n">EventsCommand</span><span class="o">.</span><span class="n">handle_arguments</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="create_parser"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.create_parser">[docs]</a><span class="k">def</span> <span class="nf">create_parser</span><span class="p">():</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;provides utilities for interacting with the F&#39; Ground Data System (GDS)&quot;</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;-V&quot;</span><span class="p">,</span> <span class="s2">&quot;--version&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;version&quot;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s2">&quot;0.0.2&quot;</span><span class="p">)</span>

    <span class="c1"># Add subcommands to the parser</span>
    <span class="n">subparsers</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">add_subparsers</span><span class="p">(</span><span class="n">dest</span><span class="o">=</span><span class="s2">&quot;func&quot;</span><span class="p">)</span>

    <span class="n">ChannelsParser</span><span class="o">.</span><span class="n">add_subparser</span><span class="p">(</span><span class="n">subparsers</span><span class="p">)</span>
    <span class="n">CommandSendParser</span><span class="o">.</span><span class="n">add_subparser</span><span class="p">(</span><span class="n">subparsers</span><span class="p">)</span>
    <span class="n">EventsParser</span><span class="o">.</span><span class="n">add_subparser</span><span class="p">(</span><span class="n">subparsers</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">parser</span></div>


<div class="viewcode-block" id="parse_args"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.parse_args">[docs]</a><span class="k">def</span> <span class="nf">parse_args</span><span class="p">(</span><span class="n">parser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">,</span> <span class="n">arguments</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parses the given arguments and returns the resulting namespace; having this</span>
<span class="sd">    separate allows for unit testing if needed</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="n">arguments</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">func</span><span class="p">:</span>
        <span class="c1"># no argument provided, so print the help message</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">print_help</span><span class="p">()</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

    <span class="n">args</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">parser</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">args</span></div>


<div class="viewcode-block" id="main"><a class="viewcode-back" href="../../../api/fprime_gds/executables/fprime_cli/index.html#fprime_gds.executables.fprime_cli.main">[docs]</a><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="c1"># parse arguments, not including the name of this script</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">create_parser</span><span class="p">()</span>
    <span class="n">argcomplete</span><span class="o">.</span><span class="n">autocomplete</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parse_args</span><span class="p">(</span><span class="n">parser</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>

    <span class="c1"># call the selected function with the args provided</span>
    <span class="n">function</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">func</span>
    <span class="n">argument_dict</span> <span class="o">=</span> <span class="nb">vars</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
    <span class="c1"># Remove function and argument validation args</span>
    <span class="k">del</span> <span class="n">argument_dict</span><span class="p">[</span><span class="s2">&quot;func&quot;</span><span class="p">]</span>
    <span class="k">del</span> <span class="n">argument_dict</span><span class="p">[</span><span class="s2">&quot;validate&quot;</span><span class="p">]</span>
    <span class="n">function</span><span class="p">(</span><span class="o">**</span><span class="n">argument_dict</span><span class="p">)</span></div>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Michael Starch

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
