

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>fprime_gds.common.testing_fw.predicates &mdash; fprime-gds 1.4.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../../../static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../../../static/css/rtd_width.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../../static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../static/documentation_options.js"></script>
        <script src="../../../../static/jquery.js"></script>
        <script src="../../../../static/underscore.js"></script>
        <script src="../../../../static/doctools.js"></script>
        <script src="../../../../static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../../static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home" alt="Documentation Home"> fprime-gds
          

          
          </a>

          
            
            
              <div class="version">
                1.4.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../api/index.html">API</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">fprime-gds</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../index.html">Module code</a> &raquo;</li>
        
          <li><a href="../../../fprime_gds.html">fprime_gds</a> &raquo;</li>
        
      <li>fprime_gds.common.testing_fw.predicates</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for fprime_gds.common.testing_fw.predicates</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">predicates.py:</span>

<span class="sd">This file contains basic predicates as well as event and telemetry predicates used by the</span>
<span class="sd">gds_test_api.py. The predicates are organized by type and can be used to search histories.</span>

<span class="sd">:author: koran</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">inspect</span> <span class="kn">import</span> <span class="n">signature</span>

<span class="kn">from</span> <span class="nn">fprime_gds.common.data_types.ch_data</span> <span class="kn">import</span> <span class="n">ChData</span>
<span class="kn">from</span> <span class="nn">fprime_gds.common.data_types.event_data</span> <span class="kn">import</span> <span class="n">EventData</span>


<span class="c1">##########################################################################################</span>
<span class="c1"># Base class/helpers</span>
<span class="c1">##########################################################################################</span>
<div class="viewcode-block" id="predicate"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.predicate">[docs]</a><span class="k">class</span> <span class="nc">predicate</span><span class="p">:</span>
<div class="viewcode-block" id="predicate.__call__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.predicate.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A parent class to ensure that all predicates are callable, and return readable strings</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="s2">&quot;This predicate did not override __call__(self, object)&quot;</span></div>
        <span class="p">)</span>

<div class="viewcode-block" id="predicate.__str__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.predicate.__str__">[docs]</a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a string outlining the evaluation done by the predicate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;This predicate did not override __str__(self)&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="predicate.__repr__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.predicate.__repr__">[docs]</a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Unless manually overwritten by a subclass both repr and str will return the same string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="is_predicate"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.is_predicate">[docs]</a><span class="k">def</span> <span class="nf">is_predicate</span><span class="p">(</span><span class="n">pred</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    a helper function to determine if an object can be used as a predicate.</span>

<span class="sd">    :return: a boolean value of whether the function is a predicate instance or has</span>
<span class="sd">        both __str__ and __call__ methods.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pred</span><span class="p">,</span> <span class="n">predicate</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="n">callable</span><span class="p">(</span><span class="n">pred</span><span class="p">):</span>
        <span class="n">sig</span> <span class="o">=</span> <span class="n">signature</span><span class="p">(</span><span class="n">pred</span><span class="o">.</span><span class="fm">__call__</span><span class="p">)</span>
        <span class="n">arg_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sig</span><span class="o">.</span><span class="n">parameters</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">arg_count</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">pred</span><span class="p">,</span> <span class="s2">&quot;__str__&quot;</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span></div>


<div class="viewcode-block" id="get_descriptive_string"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.get_descriptive_string">[docs]</a><span class="k">def</span> <span class="nf">get_descriptive_string</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">pred_function</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    a helper function that formats a predicate and argument in a nice human-readable format</span>

<span class="sd">    Args:</span>
<span class="sd">        value: the argument of the predicate</span>
<span class="sd">        pred_function: a predicate function</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;F(</span><span class="si">{}</span><span class="s2">), where F(x) evaluates</span><span class="se">\n\t</span><span class="s2"> </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">pred_function</span><span class="p">)</span></div>


<span class="c1">##########################################################################################</span>
<span class="c1"># Comparison predicates</span>
<span class="c1">##########################################################################################</span>
<div class="viewcode-block" id="less_than"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.less_than">[docs]</a><span class="k">class</span> <span class="nc">less_than</span><span class="p">(</span><span class="n">predicate</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A predicate that evaluates a less-than comparison</span>
<span class="sd">        :param value: To return true, the predicate must be called on an object that is less</span>
<span class="sd">            than this value</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">upper_limit</span> <span class="o">=</span> <span class="n">value</span>

<div class="viewcode-block" id="less_than.__call__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.less_than.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">actual</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param actual: the value to compare</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">actual</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">upper_limit</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="less_than.__str__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.less_than.__str__">[docs]</a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a string outlining the evaluation done by the predicate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;x &lt; </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">upper_limit</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="greater_than"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.greater_than">[docs]</a><span class="k">class</span> <span class="nc">greater_than</span><span class="p">(</span><span class="n">predicate</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A predicate that evaluates a greater-than comparison</span>
<span class="sd">        :param value: To return true, the predicate must be called on an object that is less</span>
<span class="sd">            than this value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lower_limit</span> <span class="o">=</span> <span class="n">value</span>

<div class="viewcode-block" id="greater_than.__call__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.greater_than.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">actual</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param actual: the value to compare</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">actual</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">lower_limit</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="greater_than.__str__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.greater_than.__str__">[docs]</a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a string outlining the evaluation done by the predicate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;x &gt; </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_limit</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="equal_to"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.equal_to">[docs]</a><span class="k">class</span> <span class="nc">equal_to</span><span class="p">(</span><span class="n">predicate</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A predicate that evaluates an equivalent comparison</span>
<span class="sd">        :param value: To return true, the predicate must be called on an object that is equal</span>
<span class="sd">            to this value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">expected</span> <span class="o">=</span> <span class="n">value</span>

<div class="viewcode-block" id="equal_to.__call__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.equal_to.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">actual</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param actual: the value to compare</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">actual</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">expected</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="equal_to.__str__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.equal_to.__str__">[docs]</a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a string outlining the evaluation done by the predicate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;x == </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">expected</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="not_equal_to"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.not_equal_to">[docs]</a><span class="k">class</span> <span class="nc">not_equal_to</span><span class="p">(</span><span class="n">predicate</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A predicate that evaluates a not-equivalent comparison</span>
<span class="sd">        :param value: To return true, the predicate must be called on an object that is not</span>
<span class="sd">            equal to this value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">expected</span> <span class="o">=</span> <span class="n">value</span>

<div class="viewcode-block" id="not_equal_to.__call__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.not_equal_to.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">actual</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param actual: the value to compare</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">actual</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expected</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="not_equal_to.__str__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.not_equal_to.__str__">[docs]</a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a string outlining the evaluation done by the predicate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;x != </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">expected</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="less_than_or_equal_to"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.less_than_or_equal_to">[docs]</a><span class="k">class</span> <span class="nc">less_than_or_equal_to</span><span class="p">(</span><span class="n">predicate</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A predicate that evaluates a less-than-or-equals comparison</span>
<span class="sd">        :param value: To return true, the predicate must be called on an object that is less</span>
<span class="sd">            than or equal to this value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">upper_limit</span> <span class="o">=</span> <span class="n">value</span>

<div class="viewcode-block" id="less_than_or_equal_to.__call__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.less_than_or_equal_to.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">actual</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param actual: the value to compare</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">actual</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">upper_limit</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="less_than_or_equal_to.__str__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.less_than_or_equal_to.__str__">[docs]</a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a string outlining the evaluation done by the predicate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;x &lt;= </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">upper_limit</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="greater_than_or_equal_to"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.greater_than_or_equal_to">[docs]</a><span class="k">class</span> <span class="nc">greater_than_or_equal_to</span><span class="p">(</span><span class="n">predicate</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A predicate that evaluates greater-than-or-equals comparison</span>
<span class="sd">        :param value: To return true, the predicate must be called on an object that is</span>
<span class="sd">            greater than or equal to this value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lower_limit</span> <span class="o">=</span> <span class="n">value</span>

<div class="viewcode-block" id="greater_than_or_equal_to.__call__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.greater_than_or_equal_to.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">actual</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param actual: the value to compare</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">actual</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lower_limit</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="greater_than_or_equal_to.__str__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.greater_than_or_equal_to.__str__">[docs]</a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a string outlining the evaluation done by the predicate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;x &gt;= </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_limit</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="within_range"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.within_range">[docs]</a><span class="k">class</span> <span class="nc">within_range</span><span class="p">(</span><span class="n">predicate</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A predicate that evaluates if the argument is between the two values</span>
<span class="sd">        :param lower: To return true, the predicate must be called on an object that is</span>
<span class="sd">            greater than this value</span>
<span class="sd">        :param upper: To return true, the predicate must be called on an object that is less</span>
<span class="sd">            than this value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">upper_limit</span> <span class="o">=</span> <span class="n">upper</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lower_limit</span> <span class="o">=</span> <span class="n">lower</span>

<div class="viewcode-block" id="within_range.__call__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.within_range.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">actual</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param actual: the value to evaluate</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">actual</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lower_limit</span> <span class="ow">and</span> <span class="n">actual</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">upper_limit</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="within_range.__str__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.within_range.__str__">[docs]</a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a string outlining the evaluation done by the predicate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> &lt;= x &lt;= </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_limit</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">upper_limit</span><span class="p">)</span></div></div>


<span class="c1">##########################################################################################</span>
<span class="c1"># Set predicates</span>
<span class="c1">##########################################################################################</span>
<div class="viewcode-block" id="is_a_member_of"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.is_a_member_of">[docs]</a><span class="k">class</span> <span class="nc">is_a_member_of</span><span class="p">(</span><span class="n">predicate</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">collection</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs a predicate that evaluates if the argument is equivalent to any member in the set</span>
<span class="sd">        :param collection: To return true, the predicate must be called on an object that is</span>
<span class="sd">            equivalent to any object in this list</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set</span> <span class="o">=</span> <span class="n">collection</span>

<div class="viewcode-block" id="is_a_member_of.__call__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.is_a_member_of.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Evaluates the predicate</span>

<span class="sd">        :param item: the object to search for then evaluate</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">set</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">item</span> <span class="o">==</span> <span class="n">x</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="is_a_member_of.__str__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.is_a_member_of.__str__">[docs]</a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a string outlining the evaluation done by the predicate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;x </span><span class="se">\u2208</span><span class="s2"> </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="is_not_a_member_of"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.is_not_a_member_of">[docs]</a><span class="k">class</span> <span class="nc">is_not_a_member_of</span><span class="p">(</span><span class="n">predicate</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">collection</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs a predicate that evaluates if the argument is not equivalent to all members in</span>
<span class="sd">        the set</span>
<span class="sd">        :param collection: To return true, the predicate must be called on an object that is</span>
<span class="sd">            not equivalent to any object in this collection</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set</span> <span class="o">=</span> <span class="n">collection</span>

<div class="viewcode-block" id="is_not_a_member_of.__call__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.is_not_a_member_of.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param item: the object to search for then evaluate</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">set</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">item</span> <span class="o">==</span> <span class="n">x</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="is_not_a_member_of.__str__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.is_not_a_member_of.__str__">[docs]</a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a string outlining the evaluation done by the predicate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;x </span><span class="se">\u2209</span><span class="s2"> </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set</span><span class="p">)</span></div></div>


<span class="c1">##########################################################################################</span>
<span class="c1"># Logic predicates</span>
<span class="c1">##########################################################################################</span>
<div class="viewcode-block" id="always_true"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.always_true">[docs]</a><span class="k">class</span> <span class="nc">always_true</span><span class="p">(</span><span class="n">predicate</span><span class="p">):</span>
<div class="viewcode-block" id="always_true.__call__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.always_true.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        used as a placeholder by other predicates. This is like a logical TRUE signal.</span>
<span class="sd">        :param obj: the object or value to evaluate</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="always_true.__str__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.always_true.__str__">[docs]</a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a string outlining the evaluation done by the predicate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;True&quot;</span></div></div>


<div class="viewcode-block" id="invert"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.invert">[docs]</a><span class="k">class</span> <span class="nc">invert</span><span class="p">(</span><span class="n">predicate</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pred</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A predicate that negates a given predicate. This predicate can be used like a NOT</span>
<span class="sd">        gate when combining predicates.</span>
<span class="sd">        :param pred: The predicate to be negated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">is_predicate</span><span class="p">(</span><span class="n">pred</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pred</span> <span class="o">=</span> <span class="n">pred</span>

<div class="viewcode-block" id="invert.__call__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.invert.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param item: the object or value to evaluate</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pred</span><span class="p">(</span><span class="n">item</span><span class="p">)</span></div>

<div class="viewcode-block" id="invert.__str__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.invert.__str__">[docs]</a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a string outlining the evaluation done by the predicate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\u02DC</span><span class="s2">(</span><span class="si">{}</span><span class="s2">).&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pred</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="satisfies_all"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.satisfies_all">[docs]</a><span class="k">class</span> <span class="nc">satisfies_all</span><span class="p">(</span><span class="n">predicate</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pred_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A predicate that evaluates if the argument satisfies all predicates in the given list.</span>
<span class="sd">        This predicate can be used like an AND gate of N elements when combining predicates.</span>
<span class="sd">        :param pred_list: a list of predicates</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">p_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">pred</span> <span class="ow">in</span> <span class="n">pred_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">is_predicate</span><span class="p">(</span><span class="n">pred</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">p_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pred</span><span class="p">)</span>

<div class="viewcode-block" id="satisfies_all.__call__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.satisfies_all.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param item: the object or value to evaluate</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">pred</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">p_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">pred</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="satisfies_all.__str__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.satisfies_all.__str__">[docs]</a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a string outlining the evaluation done by the predicate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\u2200</span><span class="s2"> P </span><span class="se">\u2208</span><span class="s2"> A : P(x) is True, when A is </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">p_list</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="satisfies_any"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.satisfies_any">[docs]</a><span class="k">class</span> <span class="nc">satisfies_any</span><span class="p">(</span><span class="n">predicate</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pred_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A predicate that evaluates if the argument satisfies any predicate in the given list.</span>
<span class="sd">        This predicate can be used like an OR gate of N elements when combining predicates.</span>
<span class="sd">        :param pred_list: a list of predicates</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">p_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">pred</span> <span class="ow">in</span> <span class="n">pred_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">is_predicate</span><span class="p">(</span><span class="n">pred</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">p_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pred</span><span class="p">)</span>

<div class="viewcode-block" id="satisfies_any.__call__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.satisfies_any.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param item: the object or value to evaluate</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">pred</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">p_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">pred</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="satisfies_any.__str__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.satisfies_any.__str__">[docs]</a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a string outlining the evaluation done by the predicate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\u2203</span><span class="s2"> P </span><span class="se">\u2208</span><span class="s2"> A : P(x) is True, when A is </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">p_list</span><span class="p">)</span></div></div>


<span class="c1">##########################################################################################</span>
<span class="c1"># Test API predicates</span>
<span class="c1">##########################################################################################</span>
<div class="viewcode-block" id="args_predicate"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.args_predicate">[docs]</a><span class="k">class</span> <span class="nc">args_predicate</span><span class="p">(</span><span class="n">predicate</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A predicate for evaluating argument fields. Arguments can be specified by value, by</span>
<span class="sd">        predicate or as don&#39;t care (None). By inserting None into the argument list, args_predicate</span>
<span class="sd">        will accept any response given for that argument index.</span>

<span class="sd">        Args:</span>
<span class="sd">            args: a list of expected arguments (list of values, predicates, and None)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arg_spec</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">ignored</span> <span class="o">=</span> <span class="n">always_true</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="n">args</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">arg</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">arg_spec</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ignored</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">is_predicate</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">arg_spec</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">arg_spec</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">equal_to</span><span class="p">(</span><span class="n">arg</span><span class="p">))</span>

<div class="viewcode-block" id="args_predicate.__call__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.args_predicate.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">actual</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Determines if the given array satisfies the given argument specification.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">actual</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="n">actual</span> <span class="o">=</span> <span class="p">[</span><span class="n">actual</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">actual</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arg_spec</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arg_spec</span><span class="p">)):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">arg_spec</span><span class="p">[</span><span class="n">i</span><span class="p">](</span><span class="n">actual</span><span class="p">[</span><span class="n">i</span><span class="p">]):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="args_predicate.__str__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.args_predicate.__str__">[docs]</a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a string outlining the evaluation done by the predicate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;True IFF </span><span class="se">\u2200</span><span class="s2"> pi </span><span class="se">\u2208</span><span class="s2"> P and xi </span><span class="se">\u2208</span><span class="s2"> x; pi(xi) is True. Where P is </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">arg_spec</span></div></div>
        <span class="p">)</span>


<div class="viewcode-block" id="event_predicate"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.event_predicate">[docs]</a><span class="k">class</span> <span class="nc">event_predicate</span><span class="p">(</span><span class="n">predicate</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">id_pred</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">args_pred</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">severity_pred</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">time_pred</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A predicate for specifying an EventData object from data_types.event_data. This predicate</span>
<span class="sd">        can be used to search a history. If arguments passed into this constructor are not</span>
<span class="sd">        subclasses of predicate, they will be ignored. If an argument is unspecified, the predicate</span>
<span class="sd">        will ignore that field when evaluating an EventData object.</span>

<span class="sd">        Args:</span>
<span class="sd">            id_pred: optional predicate to call on the EventData instance&#39;s id field</span>
<span class="sd">            args_pred: optional predicate to call on a list of the EventData &#39;s argument values</span>
<span class="sd">            severity_pred: optional predicate to call on the EvenetData instances severity field</span>
<span class="sd">            time_pred: optional predicate to call on the EventData instance&#39;s timestamp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">true_pred</span> <span class="o">=</span> <span class="n">always_true</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id_pred</span> <span class="o">=</span> <span class="n">true_pred</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">args_pred</span> <span class="o">=</span> <span class="n">true_pred</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">severity_pred</span> <span class="o">=</span> <span class="n">true_pred</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_pred</span> <span class="o">=</span> <span class="n">true_pred</span>
        <span class="k">if</span> <span class="n">is_predicate</span><span class="p">(</span><span class="n">id_pred</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id_pred</span> <span class="o">=</span> <span class="n">id_pred</span>
        <span class="k">if</span> <span class="n">is_predicate</span><span class="p">(</span><span class="n">args_pred</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">args_pred</span> <span class="o">=</span> <span class="n">args_pred</span>
        <span class="k">if</span> <span class="n">is_predicate</span><span class="p">(</span><span class="n">severity_pred</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">severity_pred</span> <span class="o">=</span> <span class="n">severity_pred</span>
        <span class="k">if</span> <span class="n">is_predicate</span><span class="p">(</span><span class="n">time_pred</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">time_pred</span> <span class="o">=</span> <span class="n">time_pred</span>

<div class="viewcode-block" id="event_predicate.__call__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.event_predicate.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The event_predicate checks that the telemetry object is an instance of EventData and will</span>
<span class="sd">        raise an error if the check fails. Then event_predicate will evaluate whether event&#39;s</span>
<span class="sd">        EventData fields satisfy the id_pred, value_pred, and time_pred specified.</span>

<span class="sd">        Args:</span>
<span class="sd">            event: an instance of EventData (object)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">EventData</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_pred</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">get_id</span><span class="p">()):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">time_pred</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">get_time</span><span class="p">()):</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">severity_pred</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">get_severity</span><span class="p">()):</span>
                    <span class="n">args</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">event</span><span class="o">.</span><span class="n">get_args</span><span class="p">():</span>
                        <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arg</span><span class="o">.</span><span class="n">val</span><span class="p">)</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">args_pred</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
                        <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="event_predicate.__str__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.event_predicate.__str__">[docs]</a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a string outlining the evaluation done by the predicate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;True IFF: x is an EventData object&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id_pred</span><span class="p">,</span> <span class="n">always_true</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; and x&#39;s id satisfies (</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id_pred</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">args_pred</span><span class="p">,</span> <span class="n">always_true</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; and x&#39;s args satisfy (</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">args_pred</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">severity_pred</span><span class="p">,</span> <span class="n">always_true</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; and x&#39;s severity satisfies (</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">severity_pred</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">time_pred</span><span class="p">,</span> <span class="n">always_true</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; and x&#39;s time satisfies (</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">time_pred</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">msg</span></div></div>


<div class="viewcode-block" id="telemetry_predicate"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.telemetry_predicate">[docs]</a><span class="k">class</span> <span class="nc">telemetry_predicate</span><span class="p">(</span><span class="n">predicate</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">id_pred</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">value_pred</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">time_pred</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A predicate for specifying a ChData object from data_types.ch_data. This predicate can be</span>
<span class="sd">        used to search a history. If arguments passed into this constructor are not subclasses of</span>
<span class="sd">        predicate, they will be ignored.If an argument is unspecified, the predicate will ignore</span>
<span class="sd">        that field when evaluating an EventData object.</span>

<span class="sd">        Args:</span>
<span class="sd">            id_pred: optional predicate to call on the ChData instance&#39;s id field</span>
<span class="sd">            value_pred: optional predicate to call on the ChData instance&#39;s id field</span>
<span class="sd">            time_pred: optional predicate to call on the ChData instance&#39;s timestamp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">true_pred</span> <span class="o">=</span> <span class="n">always_true</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id_pred</span> <span class="o">=</span> <span class="n">true_pred</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_pred</span> <span class="o">=</span> <span class="n">true_pred</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_pred</span> <span class="o">=</span> <span class="n">true_pred</span>
        <span class="k">if</span> <span class="n">is_predicate</span><span class="p">(</span><span class="n">id_pred</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id_pred</span> <span class="o">=</span> <span class="n">id_pred</span>
        <span class="k">if</span> <span class="n">is_predicate</span><span class="p">(</span><span class="n">value_pred</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value_pred</span> <span class="o">=</span> <span class="n">value_pred</span>
        <span class="k">if</span> <span class="n">is_predicate</span><span class="p">(</span><span class="n">time_pred</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">time_pred</span> <span class="o">=</span> <span class="n">time_pred</span>

<div class="viewcode-block" id="telemetry_predicate.__call__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.telemetry_predicate.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">telemetry</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The telemetry_predicate checks that the telemetry object is an instance of ChData and will</span>
<span class="sd">        raise an error if the check fails. Then telemetry_predicate will evaluate whether</span>
<span class="sd">        telemetry&#39;s ChData fields satisfy the id_pred, value_pred and time_pred specified.</span>

<span class="sd">        Args:</span>
<span class="sd">            telemetry: an instance of ChData (object)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">telemetry</span><span class="p">,</span> <span class="n">ChData</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_pred</span><span class="p">(</span><span class="n">telemetry</span><span class="o">.</span><span class="n">get_id</span><span class="p">()):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_pred</span><span class="p">(</span><span class="n">telemetry</span><span class="o">.</span><span class="n">get_val</span><span class="p">()):</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">time_pred</span><span class="p">(</span><span class="n">telemetry</span><span class="o">.</span><span class="n">get_time</span><span class="p">()):</span>
                    <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="telemetry_predicate.__str__"><a class="viewcode-back" href="../../../../api/fprime_gds/common/testing_fw/predicates/index.html#fprime_gds.common.testing_fw.predicates.telemetry_predicate.__str__">[docs]</a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a string outlining the evaluation done by the predicate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;True IFF: x is a ChData object&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id_pred</span><span class="p">,</span> <span class="n">always_true</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; and x&#39;s id satisfies (</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id_pred</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_pred</span><span class="p">,</span> <span class="n">always_true</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; and x&#39;s value satisfies (</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_pred</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">time_pred</span><span class="p">,</span> <span class="n">always_true</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; and x&#39;s time satisfies (</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">time_pred</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">msg</span></div></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Michael Starch

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
